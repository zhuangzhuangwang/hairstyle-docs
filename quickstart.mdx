---
title: '快速开始'
description: '5分钟快速上手AILabTools发型编辑Pro API'
---

# 快速开始

本指南将帮助您在5分钟内开始使用AILabTools发型编辑Pro API。

## 第一步：获取API密钥

1. 访问 [AILabTools官网](https://www.ailabtools.com/account/signup) 注册账户
2. 登录后在控制台获取您的API密钥
3. 保存好API密钥，后续请求需要使用

<Note>
API密钥是访问所有API的凭证，请妥善保管，不要泄露给他人。
</Note>

## 第二步：准备测试图片

确保您的图片符合以下要求：

- **格式**: PNG、JPG、JPEG
- **大小**: 不超过3MB
- **分辨率**: 200x200px - 1999x1999px
- **内容**: 包含一个清晰的人脸，人脸占比大于20%

## 第三步：调用发型编辑API

<Tabs>
<Tab title="cURL">
```bash
# 1. 提交发型编辑任务
curl --request POST \
  --url https://www.ailabapi.com/api/portrait/effects/hairstyle-editor-pro \
  --header 'ailabapi-api-key: YOUR_API_KEY' \
  --form 'task_type=async' \
  --form 'auto=1' \
  --form 'image=@/path/to/your/image.jpg' \
  --form 'hair_style=BuzzCut' \
  --form 'color=blonde' \
  --form 'image_size=2'

# 2. 查询任务结果
curl --request GET \
  --url 'https://www.ailabapi.com/api/common/query-async-task-result?task_id=YOUR_TASK_ID' \
  --header 'ailabapi-api-key: YOUR_API_KEY'
```
</Tab>

<Tab title="JavaScript">
```javascript
// 1. 提交发型编辑任务
const formData = new FormData();
formData.append('task_type', 'async');
formData.append('auto', '1');
formData.append('image', imageFile);
formData.append('hair_style', 'BuzzCut');
formData.append('color', 'blonde');
formData.append('image_size', '2');

const response = await fetch('https://www.ailabapi.com/api/portrait/effects/hairstyle-editor-pro', {
  method: 'POST',
  headers: {
    'ailabapi-api-key': 'YOUR_API_KEY'
  },
  body: formData
});

const result = await response.json();
const taskId = result.task_id;

// 2. 轮询查询任务结果
const checkResult = async (taskId) => {
  const resultResponse = await fetch(`https://www.ailabapi.com/api/common/query-async-task-result?task_id=${taskId}`, {
    headers: {
      'ailabapi-api-key': 'YOUR_API_KEY'
    }
  });
  
  const resultData = await resultResponse.json();
  
  if (resultData.task_status === 2) {
    // 任务完成，获取图片URL
    console.log('处理完成:', resultData.data.images);
    return resultData.data.images;
  } else if (resultData.task_status === 1) {
    // 处理中，继续轮询
    setTimeout(() => checkResult(taskId), 5000);
  } else {
    // 排队中，继续轮询
    setTimeout(() => checkResult(taskId), 5000);
  }
};

checkResult(taskId);
```
</Tab>

<Tab title="Python">
```python
import requests
import time

# 1. 提交发型编辑任务
url = "https://www.ailabapi.com/api/portrait/effects/hairstyle-editor-pro"
headers = {"ailabapi-api-key": "YOUR_API_KEY"}

with open("image.jpg", "rb") as f:
    files = {"image": f}
    data = {
        "task_type": "async",
        "auto": "1",
        "hair_style": "BuzzCut",
        "color": "blonde",
        "image_size": "2"
    }
    
    response = requests.post(url, headers=headers, files=files, data=data)
    result = response.json()
    task_id = result["task_id"]

# 2. 轮询查询任务结果
def check_result(task_id):
    url = f"https://www.ailabtools.com/api/common/query-async-task-result?task_id={task_id}"
    
    while True:
        response = requests.get(url, headers=headers)
        result = response.json()
        
        if result["task_status"] == 2:
            # 任务完成
            print("处理完成:", result["data"]["images"])
            return result["data"]["images"]
        elif result["task_status"] in [0, 1]:
            # 排队中或处理中，继续轮询
            time.sleep(5)
        else:
            print("任务失败")
            break

check_result(task_id)
```
</Tab>
</Tabs>

## 第四步：处理响应结果

### 任务提交响应

```json
{
  "request_id": "req_123456789",
  "log_id": "log_987654321",
  "error_code": 0,
  "error_msg": "",
  "error_detail": {
    "status_code": 200,
    "code": "",
    "code_message": "",
    "message": ""
  },
  "task_type": "async",
  "task_id": "task_abcdef123456"
}
```

### 任务查询响应

```json
{
  "error_code": 0,
  "error_msg": "",
  "error_detail": {
    "status_code": 200,
    "code": "",
    "code_message": "",
    "message": ""
  },
  "task_status": 2,
  "data": {
    "images": [
      "https://example.com/result1.jpg",
      "https://example.com/result2.jpg"
    ]
  }
}
```

## 任务状态说明

- `task_status = 0`: 任务排队中
- `task_status = 1`: 异步处理中
- `task_status = 2`: 处理成功

## 常用发型代码

<Tabs>
<Tab title="男士发型">
- `BuzzCut` - 寸头
- `UnderCut` - 底切发型
- `Pompadour` - 蓬巴杜发型
- `SlickBack` - 背头
- `FauxHawk` - 假鹰发型
- `Spiky` - 刺猬头
- `ManBun` - 男士发髻
- `Afro` - 爆炸头
- `Middle-parted` - 中分发型
</Tab>
<Tab title="女士发型">
- `PixieCut` - 精灵头
- `BobCut` - 波波头
- `LongStraight` - 长直发
- `LongCurly` - 长卷发
- `Ponytail` - 马尾辫
- `TwinBraids` - 双辫子
- `FishtailBraid` - 鱼尾辫
- `Updo` - 盘发
- `DoubleBun` - 双发髻
</Tab>
<Tab title="发色">
- `blonde` - 金发
- `brown` - 棕色
- `black` - 黑色
- `red` - 红色
- `blue` - 蓝色
- `purple` - 紫色
- `pink` - 粉色
- `gradient` - 渐变
- `multicolored` - 多色
</Tab>
</Tabs>

## 注意事项

<Warning>
- 异步任务结果有效期为24小时
- 建议每5秒查询一次任务状态
- 图片URL为临时地址，请及时下载保存
</Warning>

<Tip>
  <a href="https://www.ailabtools.com/portrait-hairstyle-editing-pro-example" target="_blank">
    👉 在线体验 👈
  </a>
  访问我们的在线体验页面，上传您的照片，尝试不同的发型和发色效果！
</Tip>

## 下一步

- 查看 [API参考](/api-reference/overview) 了解完整的API文档
- 浏览 [发型示例](/hairstyle-examples) 查看各种效果展示
- 阅读 [开发指南](/development) 了解更多集成方案
